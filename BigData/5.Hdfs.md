# HDFS 란?
![hdfs](https://velog.velcdn.com/images%2Fkimdukbae%2Fpost%2F2644d0d9-bcfe-4474-af64-e74c9ff67184%2Fimage.png)

***하둡의 저장소역할***<br>
Hadoop 네트워크에 연결된 기기에 대용량의 데이터를 나누어 저장하는 분산형 파일 시스템<br><br>
***스트리밍 방식의 데이터 이용***<br>
한번의 쓰기 작업 이후에 여러 번 읽는 것이 가장 효율적이 데이터 이용 방식이라는 컨셉을 가지고 있기 때문에 HDFS로 저장된 데이터는 수정이 불가능 -> <u>데이터를 수정하고 싶다면 현재의 데이터를 삭제 후 수정된 데이터를 다시 저장해야함</u><br><br>
***파일 블록으로 저장***<br>
블록이라는 단위로 쪼개서 저장을 하기 때문에 여러 개의 디스크(또는 장비)에 걸쳐 파일(데이터)을 저장할 수 있음 -> <u>저장할 수 있는 파일(데이터) 하나의 크기가 단일 디스크의 용량보다 크더라도 저장이 가능</u><br><br>
***마스터-슬레이브 구조***<br>
1개의 하드웨어(마스터)가 1개 이상인 다른 기기(슬레이브)를 제어하는 형태 -> <u>마스터 역할을 수행하는 서버를 ___'네임노드'___, 슬레이브 역할을 수행하는 서버를 ___'데이터노드'___ 라고 함</u><br><br>
# NameNode<br>
* HDFS의 모든 메타데이터를 관리<br><br>
    - EditLog : 메타데이터에 대한 모든 변화를 기록하는 로그 파일<br>
    - FsImage : 메타데이터에 대한 스냅샷 파일<br><br>
* 디스크 가용 공간 정보, 데이터 이동, 적재량 등(HeartBeat) 전송 유무에 따라 DataNode 상태 체크
* 파일과 디렉토리의 읽기(open), 닫기(close), 이름 바꾸기(rename) 등 파일 시스템의 네임스페이스의 여러 기능을 수행<br>
* ___Secondary NameNode___ <br><br>
    - NameNode의 파일 시스템 이미지 파일을 갱신하는 역할 -> ___'체크포인트'___
    - EditLog가 너무 커지지 않도록 주기적으로 네임스페이스 이미지를 EditLog와 병합하여 새로운 네임스페이스 이미지를 만듬

# DataNode<br>
* 주기적으로 NameNode에게 각자의 상태 정보와 가지고 있는 블록의 위치 정보(Block Report)를 전달
* 파일 시스템의 클라이언트가 요구하는 읽기(read), 쓰기(write) 기능을 담당
* 실질적으로 데이터를 소유하고 있지만 마스터 관계에 있는 NameNode가 손상될 경우 DataNode가 가지고 있는 데이터는 읽거나 복구 할 수 없음<br>

![아키텍쳐](https://s3-ap-northeast-2.amazonaws.com/opentutorials-user-file/module/2926/6496.png)